<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="FragIQ - Track and manage your coral frag collection with photos, lineage, and health logs. The ultimate coral management app for reef enthusiasts.">
  <meta name="keywords" content="coral, frag, reef, aquarium, tank, tracking, coral management, reef keeping">
  <meta name="author" content="Fragg3D">
  
  <!-- Open Graph / Social Media -->
  <meta property="og:title" content="FragIQ - Coral Frag Management">
  <meta property="og:description" content="Track and manage your coral frag collection with photos, lineage, and health logs.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://penningtonstuart.github.io/fragIQ-legal">
  <meta property="og:image" content="assets/feature-graphic.png">
  
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="FragIQ - Coral Frag Management">
  <meta name="twitter:description" content="Track and manage your coral frag collection with photos, lineage, and health logs.">
  
  <title>FragIQ - Coral Frag Management App</title>
  <link rel="icon" type="image/png" href="assets/icon-192.png">
  <link rel="apple-touch-icon" href="assets/icon-192.png">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <!-- Beta Banner -->
  <div class="beta-banner">
    üöÄ FragIQ is currently in closed beta! Join our testing program to get early access.
  </div>

  <!-- Header -->
  <header>
    <div class="container">
      <div class="header-content">
        <a href="index.html" class="logo">
          <img src="assets/logo.png" alt="FragIQ Logo">
          <span class="logo-text">FragIQ</span>
        </a>
        <nav>
          <a href="#features">Features</a>
          <a href="#download">Download</a>
          <a href="privacy.html">Privacy</a>
          <a href="terms.html">Terms</a>
        </nav>
      </div>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="hero">
    <div class="container">
      <h1>Your Coral Collection, <span class="accent">Organized</span></h1>
      <p class="tagline">
        Track and manage your coral frag collection with photos, lineage tracking, health logs, and tank management. The ultimate app for reef enthusiasts.
      </p>
      <div class="btn-group">
        <a href="#download" class="btn btn-primary">Get Early Access</a>
        <a href="#features" class="btn btn-secondary">Learn More</a>
      </div>
    </div>
  </section>

  <!-- Features Section -->
  <section id="features" class="features">
    <div class="container">
      <h2>Everything You Need to Track Your Frags</h2>
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">üêö</div>
          <h3>Frag Management</h3>
          <p>Comprehensive tracking with species, strain, source info, health logging, tissue coverage assessment, and weight measurements with trend analysis.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üß¨</div>
          <h3>Lineage Tracking</h3>
          <p>Complete lineage tracking from mother colonies. Know exactly where each frag came from and track its offspring over time.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üê†</div>
          <h3>Tank Management</h3>
          <p>Multiple tank support with water parameter logging, environmental condition tracking, and parameter trend visualization.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üì∏</div>
          <h3>Photo Gallery</h3>
          <p>Upload multiple photos per frag with automatic thumbnail generation, photo timeline view, and cover photo selection.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üìÖ</div>
          <h3>Event Tracking</h3>
          <p>Schedule and track maintenance events. Set reminders for feeding, water changes, and more with event history and notes.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üìä</div>
          <h3>Trends & Analytics</h3>
          <p>Visualize weight trends, parameter history, and growth over time with beautiful charts and insights.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">‚öôÔ∏è</div>
          <h3>Customization</h3>
          <p>Temperature, volume, and weight unit preferences. Date formats, notification controls, and biometric authentication support.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üîí</div>
          <h3>Privacy-Focused</h3>
          <p>Your data is stored securely and never shared with third parties. Delete your account and all data at any time.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Screenshots Section -->
  <section class="screenshots">
    <div class="container">
      <h2>See FragIQ in Action</h2>
      <div class="carousel-wrapper">
        <button class="carousel-btn carousel-btn-prev" onclick="moveCarousel(-1)" aria-label="Previous screenshot">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg>
        </button>
        <div class="carousel-container">
          <div class="carousel-track" id="carouselTrack">
            <div class="carousel-slide">
              <img src="assets/screenshots/Screenshot_1769571162.png" alt="FragIQ Dashboard - Overview of your coral collection">
              <p class="slide-caption">Dashboard Overview</p>
            </div>
            <div class="carousel-slide">
              <img src="assets/screenshots/Screenshot_1769571177.png" alt="Frag Collection - Browse all your corals">
              <p class="slide-caption">Frag Collection</p>
            </div>
            <div class="carousel-slide">
              <img src="assets/screenshots/Screenshot_1769571224.png" alt="Frag Details - View coral information">
              <p class="slide-caption">Frag Details</p>
            </div>
            <div class="carousel-slide">
              <img src="assets/screenshots/Screenshot_1769571276.png" alt="Photo Gallery - Document your coral growth">
              <p class="slide-caption">Photo Gallery</p>
            </div>
            <div class="carousel-slide">
              <img src="assets/screenshots/Screenshot_1769571301.png" alt="Tank Management - Monitor your tanks">
              <p class="slide-caption">Tank Management</p>
            </div>
            <div class="carousel-slide">
              <img src="assets/screenshots/Screenshot_1769571405.png" alt="Water Parameters - Track tank conditions">
              <p class="slide-caption">Water Parameters</p>
            </div>
            <div class="carousel-slide">
              <img src="assets/screenshots/Screenshot_1769572638.png" alt="Lineage Tracking - Follow coral history">
              <p class="slide-caption">Lineage Tracking</p>
            </div>
          </div>
        </div>
        <button class="carousel-btn carousel-btn-next" onclick="moveCarousel(1)" aria-label="Next screenshot">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>
        </button>
      </div>
      <div class="carousel-dots" id="carouselDots"></div>
    </div>
  </section>

  <!-- Download Section -->
  <section id="download" class="download-section">
    <div class="container">
      <h2>Get FragIQ</h2>
      <p>Currently available for Android devices. Join our closed beta program to get early access and help shape the future of FragIQ.</p>
      <div class="btn-group">
        <button type="button" class="btn btn-primary" onclick="openBetaModal()">
          Join Beta on Google Play
        </button>
      </div>
      <p style="margin-top: 24px; font-size: 14px; color: var(--text-muted);">
        iOS version coming soon!
      </p>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="container">
      <div class="footer-content">
        <div class="footer-links">
          <a href="privacy.html">Privacy Policy</a>
          <a href="terms.html">Terms of Service</a>
          <a href="delete-account.html">Delete Account</a>
          <a href="mailto:fragg3d.reef.innovation@gmail.com">Contact</a>
        </div>
        <p class="copyright">
          ¬© <script>document.write(new Date().getFullYear())</script> Fragg3D. All rights reserved.
        </p>
      </div>
    </div>
  </footer>

  <!-- Beta Signup Modal -->
  <div id="betaModal" class="modal-overlay" onclick="closeBetaModal(event)">
    <div class="modal-content" onclick="event.stopPropagation()">
      <button type="button" class="modal-close" onclick="closeBetaModal()" aria-label="Close">&times;</button>
      
      <div class="modal-header">
        <h2>Join the FragIQ Beta</h2>
        <p>Help us shape the future of coral frag management!</p>
      </div>

      <form id="betaSignupForm" onsubmit="submitBetaForm(event)">
        <!-- Required Information -->
        <div class="form-section">
          <h3>üìß Google Play Account</h3>
          <div class="form-group">
            <label for="email">Google Play Email Address <span class="required">*</span></label>
            <input type="email" id="email" name="email" required 
                   placeholder="your.email@gmail.com"
                   title="This email will be added to our Google Play Console for closed testing">
            <span class="form-hint">This email will be whitelisted for closed beta access</span>
          </div>
        </div>

        <!-- Device Details -->
        <div class="form-section">
          <h3>üì± Device Information</h3>
          <div class="form-row">
            <div class="form-group">
              <label for="deviceModel">Phone Model <span class="required">*</span></label>
              <input type="text" id="deviceModel" name="deviceModel" required 
                     placeholder="e.g., Pixel 7, Samsung S23">
            </div>
            <div class="form-group">
              <label for="androidVersion">Android Version <span class="required">*</span></label>
              <select id="androidVersion" name="androidVersion" required>
                <option value="">Select version</option>
                <option value="Android 14">Android 14</option>
                <option value="Android 13">Android 13</option>
                <option value="Android 12">Android 12</option>
                <option value="Android 11">Android 11</option>
                <option value="Android 10">Android 10</option>
                <option value="Android 9 or older">Android 9 or older</option>
              </select>
            </div>
          </div>
        </div>

        <!-- User Profile -->
        <div class="form-section">
          <h3>üë§ Your Experience</h3>
          <div class="form-group">
            <label for="experienceLevel">Experience with reef keeping apps <span class="required">*</span></label>
            <select id="experienceLevel" name="experienceLevel" required>
              <option value="">Select your experience level</option>
              <option value="Beginner">Beginner - New to reef keeping apps</option>
              <option value="Intermediate">Intermediate - Used a few apps occasionally</option>
              <option value="Power User">Power User - Regularly use multiple apps</option>
            </select>
          </div>
          <div class="form-group">
            <label for="useCases">How do you plan to use FragIQ? <span class="required">*</span></label>
            <textarea id="useCases" name="useCases" required rows="2"
                      placeholder="e.g., Track my frag collection, monitor tank parameters, document coral growth..."></textarea>
          </div>
          <div class="form-group">
            <label for="competitorApps">Have you used similar apps? If so, which ones?</label>
            <input type="text" id="competitorApps" name="competitorApps" 
                   placeholder="e.g., Apex Fusion, CoralVue, none">
          </div>
        </div>

        <!-- Commitment -->
        <div class="form-section">
          <h3>‚úÖ Beta Tester Commitment</h3>
          <div class="form-group checkbox-group">
            <label class="checkbox-label">
              <input type="checkbox" id="commitment14Days" name="commitment14Days" required>
              <span class="checkmark"></span>
              <span>I commit to testing FragIQ for at least 14 consecutive days <span class="required">*</span></span>
            </label>
            <span class="form-hint">Required by Google Play Console for closed testing</span>
          </div>
          <div class="form-group checkbox-group">
            <label class="checkbox-label">
              <input type="checkbox" id="commitmentFeedback" name="commitmentFeedback" required>
              <span class="checkmark"></span>
              <span>I'm willing to provide detailed feedback on bugs and features <span class="required">*</span></span>
            </label>
          </div>
        </div>

        <!-- Optional Information -->
        <div class="form-section">
          <h3>üí¨ Optional Information</h3>
          <div class="form-group">
            <label for="feedbackChannel">Preferred Feedback Channel</label>
            <select id="feedbackChannel" name="feedbackChannel">
              <option value="">Select preference (optional)</option>
              <option value="In-App">In-App Feedback</option>
              <option value="Email">Email</option>
              <option value="Survey">Survey</option>
              <option value="Any">Any method is fine</option>
            </select>
          </div>
          <div class="form-group">
            <label for="testingInterests">Which features are you most excited to try?</label>
            <textarea id="testingInterests" name="testingInterests" rows="2"
                      placeholder="e.g., Lineage tracking, photo gallery, tank parameters..."></textarea>
          </div>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary btn-full" id="submitBtn">
            Submit Application
          </button>
          <p class="form-disclaimer">
            By submitting, you agree to our <a href="privacy.html" target="_blank">Privacy Policy</a>. 
            Your information will only be used for beta testing purposes.
          </p>
        </div>
      </form>

      <!-- Success Message -->
      <div id="formSuccess" class="form-success" style="display: none;">
        <div class="success-icon">üéâ</div>
        <h3>Application Submitted!</h3>
        <p>Thank you for joining the FragIQ beta program. We'll add your email to our Google Play Console and you'll receive an invite shortly.</p>
        <p class="success-note">Check your email (including spam folder) for the Google Play beta invite.</p>
        <button type="button" class="btn btn-secondary" onclick="closeBetaModal()">Close</button>
      </div>

      <!-- Error Message -->
      <div id="formError" class="form-error" style="display: none;">
        <div class="error-icon">‚ö†Ô∏è</div>
        <h3>Submission Failed</h3>
        <p id="errorMessage">Something went wrong. Please try again or contact us directly.</p>
        <button type="button" class="btn btn-secondary" onclick="resetForm()">Try Again</button>
      </div>
    </div>
  </div>

  <script>
    // Carousel functionality
    let currentSlide = 0;
    const track = document.getElementById('carouselTrack');
    const slides = document.querySelectorAll('.carousel-slide');
    const totalSlides = slides.length;
    const dotsContainer = document.getElementById('carouselDots');

    // Create dots
    for (let i = 0; i < totalSlides; i++) {
      const dot = document.createElement('button');
      dot.classList.add('carousel-dot');
      if (i === 0) dot.classList.add('active');
      dot.setAttribute('aria-label', `Go to slide ${i + 1}`);
      dot.onclick = () => goToSlide(i);
      dotsContainer.appendChild(dot);
    }

    function updateCarousel() {
      track.style.transform = `translateX(-${currentSlide * 100}%)`;
      document.querySelectorAll('.carousel-dot').forEach((dot, index) => {
        dot.classList.toggle('active', index === currentSlide);
      });
    }

    function moveCarousel(direction) {
      currentSlide = (currentSlide + direction + totalSlides) % totalSlides;
      updateCarousel();
    }

    function goToSlide(index) {
      currentSlide = index;
      updateCarousel();
    }

    // Auto-advance carousel every 5 seconds
    let autoSlide = setInterval(() => moveCarousel(1), 5000);

    // Pause auto-advance on hover
    document.querySelector('.carousel-wrapper').addEventListener('mouseenter', () => {
      clearInterval(autoSlide);
    });

    document.querySelector('.carousel-wrapper').addEventListener('mouseleave', () => {
      autoSlide = setInterval(() => moveCarousel(1), 5000);
    });

    // Touch/swipe support
    let touchStartX = 0;
    let touchEndX = 0;

    track.addEventListener('touchstart', e => {
      touchStartX = e.changedTouches[0].screenX;
    }, { passive: true });

    track.addEventListener('touchend', e => {
      touchEndX = e.changedTouches[0].screenX;
      if (touchStartX - touchEndX > 50) moveCarousel(1);
      if (touchEndX - touchStartX > 50) moveCarousel(-1);
    }, { passive: true });

    // Configuration - Replace with your Google Apps Script Web App URL
    const GOOGLE_SCRIPT_URL = 'YOUR_GOOGLE_APPS_SCRIPT_URL_HERE';

    function openBetaModal() {
      document.getElementById('betaModal').classList.add('active');
      document.body.style.overflow = 'hidden';
    }

    function closeBetaModal(event) {
      if (event && event.target !== event.currentTarget) return;
      document.getElementById('betaModal').classList.remove('active');
      document.body.style.overflow = '';
    }

    function resetForm() {
      document.getElementById('betaSignupForm').style.display = 'block';
      document.getElementById('formSuccess').style.display = 'none';
      document.getElementById('formError').style.display = 'none';
      document.getElementById('submitBtn').disabled = false;
      document.getElementById('submitBtn').textContent = 'Submit Application';
    }

    async function submitBetaForm(event) {
      event.preventDefault();
      
      const form = document.getElementById('betaSignupForm');
      const submitBtn = document.getElementById('submitBtn');
      
      // Disable button and show loading
      submitBtn.disabled = true;
      submitBtn.textContent = 'Submitting...';

      // Collect form data
      const formData = {
        timestamp: new Date().toISOString(),
        email: document.getElementById('email').value,
        deviceModel: document.getElementById('deviceModel').value,
        androidVersion: document.getElementById('androidVersion').value,
        experienceLevel: document.getElementById('experienceLevel').value,
        useCases: document.getElementById('useCases').value,
        competitorApps: document.getElementById('competitorApps').value || 'Not specified',
        commitment14Days: document.getElementById('commitment14Days').checked ? 'Yes' : 'No',
        commitmentFeedback: document.getElementById('commitmentFeedback').checked ? 'Yes' : 'No',
        feedbackChannel: document.getElementById('feedbackChannel').value || 'Not specified',
        testingInterests: document.getElementById('testingInterests').value || 'Not specified'
      };

      try {
        const response = await fetch(GOOGLE_SCRIPT_URL, {
          method: 'POST',
          mode: 'no-cors', // Required for Google Apps Script
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(formData)
        });

        // With no-cors, we can't read the response, but if no error was thrown, assume success
        form.style.display = 'none';
        document.getElementById('formSuccess').style.display = 'block';
        form.reset();

      } catch (error) {
        console.error('Form submission error:', error);
        document.getElementById('errorMessage').textContent = 
          'Network error. Please check your connection and try again, or email us at fragg3d.reef.innovation@gmail.com';
        form.style.display = 'none';
        document.getElementById('formError').style.display = 'block';
      }
    }

    // Close modal with Escape key
    document.addEventListener('keydown', function(event) {
      if (event.key === 'Escape') {
        closeBetaModal();
      }
    });
  </script>
</body>
</html>
